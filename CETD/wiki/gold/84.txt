
Metafont
  (Redirected from METAFONT)
Metafont

Developer(s)	Donald Knuth
Stable release	2.718281 / March 2008
Operating system	Cross-platform
Type	Computer language
License	freely modifiable
Metafont is a programming language used to define vector fonts. It is also the name of the interpreter that executes Metafont code, generating the bitmap fonts that can be embedded into e.g. PostScript. Metafont was devised by Donald Knuth as counterpart to his TeX typesetting system.
One of the characteristics of Metafont is that all of the shapes of the glyphs are defined with geometrical equations, e.g., one can define a given point to be the intersection of a line segment and a Bézier cubic.
Contents [hide]
1 Mode of operation
2 Producing PostScript Type 1 fonts
3 Use
4 History
5 Notes
6 References
7 External links
[edit]Mode of operation

Unlike more common outline font formats (such as TrueType or PostScript Type 1), a Metafont font is primarily made up of strokes with finite-width "pens", along with filled regions. Thus, rather than describing the outline of the glyph directly, a Metafont file describes the pen paths. Some simpler Metafont fonts, such as the calligraphic mathematics fonts in the Computer Modern family, use a single pen stroke with a relatively large pen to define each visual "stroke" of the glyphs. More complex fonts such as the Roman text fonts in the Computer Modern family use a small pen to trace around the outline of the visual "strokes", which are then filled; the result is much like an outline font, but with slightly softened corners defined by the pen shape.
Since the font shapes are defined by equations rather than directly-coded numbers, it is possible to treat parameters such as aspect ratio, font slant, stroke width, serif size, and so forth as input parameters in each glyph definition (which then define not a single font, but a meta-font). Thus, by changing the value of one of these parameters at one location in the Metafont file, one can produce a consistent change throughout the entire font. Computer Modern Roman illustrates many uses of this feature; a typical TeX installation includes a number of versions of the font in sizes from 5pt to 17pt, with the stroke widths the same in all sizes (rather than increasing as the font is scaled up) and aspect ratios widening in the smaller sizes for increased legibility. In addition, the Computer Modern typewriter and sans-serif fonts are defined using essentially the same Metafont file as the Roman font, but with different global parameters.
Curves in Metafont are defined as cubic splines rather than quadratic, for greater versatility with similarly simple arithmetic.
Metafont can render any kind of graphical output, not just glyphs. However, MetaPost with its PostScript output is preferred for advanced illustrations. Metafont is most commonly invoked without a direct request from the user. DVI files can only contain references to typefaces, rather than the sets of raster or vector glyphs that other formats like PostScript allow. Consequently the glyphs in the typefaces need to be accessed whenever a request is made to view, print or convert a DVI file. Most TeX distributions are configured so that any fonts not currently available at the required resolution are generated by calls to Metafont. The typefaces are then stored for later reuse.
Metafont can also be run interactively, and has commands for displaying on the screen the images it produces. Knuth has said that he uses Metafont as a kind of desk calculator for solving complicated equations, though he now uses MetaPost for mathematical illustrations.
[edit]Producing PostScript Type 1 fonts

There are several tools for converting Metafont programs to PostScript Type 1 fonts. Most make use of MetaPost's ability to convert a subset of Metafont's language into EPS outlines, which can subsequently be converted to PostScript Type 1 fonts. Generating vector outlines of pen strokes directly in Metafont is nontrivial, as the bitmapped strokes are generated by rasterization rather than actual outlines.
The Polish JNS team developed METATYPE1[1] (based on MetaPost) for creating PostScript Type 1 fonts. Its big disadvantage is that no pens may be used which highly reduces the power of Metafont language. Initially, tool has been used by the Polish GUST typeface foundry to produce a modernized and extended variant of Computer Modern, called Latin Modern.
mf2pt1,[2] which is also based on Metapost, was developed by Scott Pakin with some contributions from Werner Lemberg. It also has several limitations detailed in its manual, the most significant one being the restriction that each glyph must be drawn entirely from closed paths. In order to overcome the limitations of mf2pt1, the EPS output by Metapost can be post-processed with FontForge, which is capable of interpreting complex PostScript paths generated by Metapost from Metafont's elliptic pens, and also capable of removing contour overlaps. Since FontForge supports scripting, this post-processing step can also be automated. This approach was used to produce Type 1 outlines for the MnSymbol mathematical font developed by Achim Blumensath; MnSymbol was designed as a companion to Minion Pro.
MetaFog[3] is a proprietary converter that can analytically convert pen strokes, but it requires manual post processing to eliminate degenerate cases, and it is not publicly available. It can process only Metapost output.[4]
The common approach to generate Type 1 fonts with pen strokes remains to generate a high-resolution bitmap and then using an autotracer, implemented by packages such as mftrace.
[edit]Use

While well-known font designers, such as Hermann Zapf, have collaborated with Knuth to create new fonts using Metafont, the system has not been widely adopted by professional type designers. Knuth attributes this to the fact that "asking an artist to become enough of a mathematician to understand how to write a font with 60 parameters is too much".[5]
[edit]History

Donald Knuth started work on font creation software in 1977, and produced the first version of Metafont in 1979. Due to shortcomings in the original Metafont language, Knuth developed an entirely new Metafont system in 1984, and it is this revised system that is used today; Metafont has a versioning system similar to that of TeX, where the number asymptotically approaches e with each revision.
[edit]Notes

^ http://www.ctan.org/tex-archive/fonts/utilities/metatype1/
^ http://www.ctan.org/tex-archive/support/mf2pt1/
^ R. J. Kinch, "MetaFog: converting Metafont shapes to contours", TUGboat 16(3), 233–43 (1995)
^ K. Píška, 2004
^ CSTUG, Charles University, Prague, March 1996, Questions and Answers with Prof. Donald E. Knuth, reproduced in TUGboat 17 (4) (1996), 355–67. Citation is from page 361. Available online at http://www.tug.org/TUGboat/Articles/tb17-4/tb53knuc.pdf
[edit]References

Donald Knuth: Metafont: The Program, Addison-Wesley 1986. ISBN 0-201-13438-1
Donald Knuth : The Metafontbook, Addison-Wesley 1986. ISBN 0-201-13444-6 . The source code of the book in TeX (and a needed macro) is available online on CTAN. Pdf version.
Yannis Haralambous, "Fonts and Encodings", O'Reilly 2007, ISBN 0596102429, Appendix F: "METAFONT and Its derivatives"
K. Píška, "Creating Type 1 fonts from Metafont sources: comparison of tools, techniques and results", in TeX, XML, and Digital Typography (Springer-Verlag, Berlin, 2004), Lect. Notes Comput. Sci., Vol. 3130, pp. 240–56. preprint
Hofstadter, Douglas R., "Metafont, Metamathematics, and Metaphysics: Comments on Donald Knuth's Article 'The Concept of a Meta-Font'" Visible Language, Vol. XVI no. 4, pp. 309-338 (republished in Hofstadter's book Metamagical Themas, NY: Basic Books, 1985)
[edit]External links

The Metafont Tutorial: an online guide to using Metafont.
v • d • e
Free and Open Source Typography
Operating system typefaces	
GNU FreeFont  · Ghostscript fonts  · GNU Unifont  · Droid  · Liberation  · Ubuntu
Other typefaces	
Allerta  · Asana-Math  · Bitstream Vera · Caslon Roman  · Chandas  · Charis SIL  · Computer Modern  · DejaVu  · Doulos SIL  · Fixedsys Excelsior  · Gentium  · Inconsolata  · Junicode  · Kochi  · Linux Libertine  · M+  · Nimbus Mono  · Nimbus Roman  · Nimbus Sans  · PT Sans  · Tiresias  · Ubuntu-Title
Software	
FontForge  · FreeType  · Metafont  · MetaPost  · METATYPE1  · Pango  · TeX
Licenses	
Paratype Free Font License [1]  · SIL Open Font License  · Ubuntu Font Licence
Groups and People	
Donald Knuth  · Open Font Library
Free Software Unicode Typefaces
List of open source typefaces  · List of free software Unicode typefaces
Categories: Free TeX software | Font formats | Donald Knuth | Cross-platform software | Declarative programming languages
